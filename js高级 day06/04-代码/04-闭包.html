<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>

<script>

  // 需求: 统计一个函数执行的次数


  // function outer() {
  //   var count = 0;  // 局部变量
  //   function fn () {
  //     count++;
  //     console.log('我执行了' + count + '次');
  //   }
  //   return fn;
  // }
  // var result = outer();
  // result();
  // result();
  // result();

  // 闭包: 一个函数的内部, 有另一个函数, 内部函数引用了外部函数的局部变量, 这个模型, 称之为闭包
  // 闭包的作用: 可以保护变量  (变量私有化)  缓存数据
  // 闭包的内存问题: 闭包会占用内存!!! 闭包的内存空间是不会直接释放的!!

  function outer() {
    var count = 0;  // 局部变量
    function inner() {
      count++;
      console.log('执行了' + count + '次');
    }
    return inner;
  }

  // 闭包的内存, 不会释放
  var result = outer();
  result();
  result();
  result();
  result();


  // 闭包用完了, 只需要将 指向函数内部的引用 干掉, 此时内存就会释放了
  result = null;


</script>
  
</body>
</html>